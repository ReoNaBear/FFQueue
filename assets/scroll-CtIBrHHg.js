import{g as E,w as q,au as N,I as U,Z as T,av as h,c as G,r as C,q as I,Y,h as H,aw as j,ax as X,ay as x,a as L,_ as O,o as _,ac as Q,az as B,aA as A}from"./index-fTzpqEC8.js";const le={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},ie=["beforeShow","show","beforeHide","hide"];function se({showing:e,canShow:t,hideOnRouteChange:o,handleShow:l,handleHide:i,processOnMount:r}){const a=E(),{props:s,emit:u,proxy:v}=a;let c;function m(n){e.value===!0?b(n):p(n)}function p(n){if(s.disable===!0||n?.qAnchorHandled===!0||t!==void 0&&t(n)!==!0)return;const d=s["onUpdate:modelValue"]!==void 0;d===!0&&(u("update:modelValue",!0),c=n,T(()=>{c===n&&(c=void 0)})),(s.modelValue===null||d===!1)&&V(n)}function V(n){e.value!==!0&&(e.value=!0,u("beforeShow",n),l!==void 0?l(n):u("show",n))}function b(n){if(s.disable===!0)return;const d=s["onUpdate:modelValue"]!==void 0;d===!0&&(u("update:modelValue",!1),c=n,T(()=>{c===n&&(c=void 0)})),(s.modelValue===null||d===!1)&&M(n)}function M(n){e.value!==!1&&(e.value=!1,u("beforeHide",n),i!==void 0?i(n):u("hide",n))}function $(n){s.disable===!0&&n===!0?s["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!1):n===!0!==e.value&&(n===!0?V:M)(c)}q(()=>s.modelValue,$),o!==void 0&&N(a)===!0&&q(()=>v.$route.fullPath,()=>{o.value===!0&&e.value===!0&&b()}),U(()=>{$(s.modelValue)});const y={show:p,hide:b,toggle:m};return Object.assign(v,y),y}let f=[],w=[];function W(e){w=w.filter(t=>t!==e)}function Z(e){W(e),w.push(e)}function D(e){W(e),w.length===0&&f.length!==0&&(f[f.length-1](),f=[])}function ae(e){w.length===0?e():f.push(e)}function re(e){f=f.filter(t=>t!==e)}const P=[];function ue(e){return P.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function J(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return h(e)}else if(e.__qPortal===!0){const o=h(e);return o?.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=h(e)}while(e!=null)}function ce(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=J(e,t);continue}e.hide(t)}e=h(e)}}const K=G({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function R(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function fe(e,t,o,l){const i=C(!1),r=C(!1);let a=null;const s={},u=l==="dialog"&&R(e);function v(m){if(m===!0){D(s),r.value=!0;return}r.value=!1,i.value===!1&&(u===!1&&a===null&&(a=X(!1,l)),i.value=!0,P.push(e.proxy),Z(s))}function c(m){if(r.value=!1,m!==!0)return;D(s),i.value=!1;const p=P.indexOf(e.proxy);p!==-1&&P.splice(p,1),a!==null&&(x(a),a=null)}return I(()=>{c(!0)}),e.proxy.__qPortal=!0,Y(e.proxy,"contentEl",()=>t.value),{showPortal:v,hidePortal:c,portalIsActive:i,portalIsAccessible:r,renderPortal:()=>u===!0?o():i.value===!0?[H(j,{to:a},H(K,o))]:void 0}}const de={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function me(e,t=()=>{},o=()=>{}){return{transitionProps:L(()=>{const l=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:L(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function pe(){let e;const t=E();function o(){e=void 0}return O(o),_(o),{removeTick:o,registerTick(l){e=l,T(()=>{e===l&&(Q(t)===!1&&e(),e=void 0)})}}}function we(){let e=null;const t=E();function o(){e!==null&&(clearTimeout(e),e=null)}return O(o),_(o),{removeTimeout:o,registerTimeout(l,i){o(),Q(t)===!1&&(e=setTimeout(()=>{e=null,l()},i))}}}const ve=[Element,String],ee=[null,document,document.body,document.scrollingElement,document.documentElement];function ge(e,t){let o=B(t);if(o===void 0){if(e==null)return window;o=e.closest(".scroll,.scroll-y,.overflow-auto")}return ee.includes(o)?window:o}function te(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function oe(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function k(e,t,o=0){const l=arguments[3]===void 0?performance.now():arguments[3],i=te(e);if(o<=0){i!==t&&S(e,t);return}requestAnimationFrame(r=>{const a=r-l,s=i+(t-i)/Math.max(a,o)*a;S(e,s),s!==t&&k(e,t,o-a,r)})}function z(e,t,o=0){const l=arguments[3]===void 0?performance.now():arguments[3],i=oe(e);if(o<=0){i!==t&&F(e,t);return}requestAnimationFrame(r=>{const a=r-l,s=i+(t-i)/Math.max(a,o)*a;F(e,s),s!==t&&z(e,t,o-a,r)})}function S(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function F(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function he(e,t,o){if(o){k(e,t,o);return}S(e,t)}function Pe(e,t,o){if(o){z(e,t,o);return}F(e,t)}let g;function be(){if(g!==void 0)return g;const e=document.createElement("p"),t=document.createElement("div");A(e,{width:"100%",height:"200px"}),A(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const o=e.offsetWidth;t.style.overflow="scroll";let l=e.offsetWidth;return o===l&&(l=t.clientWidth),t.remove(),g=o-l,g}function Te(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}export{ie as a,le as b,pe as c,we as d,me as e,se as f,fe as g,ge as h,be as i,ae as j,J as k,Pe as l,he as m,ue as n,ce as o,P as p,te as q,re as r,ve as s,oe as t,de as u,Te as v};
